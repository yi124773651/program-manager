# V1.1.0更新日志

## 概述

本次更新将 Program Manager 从单一的"程序启动器"升级为"程序启动器 & 效率工具"，新增了多项效率功能。

---

## 主要变更

### 1. 项目定位更新

| 项目 | 旧版本 | 新版本 |
|------|--------|--------|
| 副标题 | 简洁高效的程序启动器 | 简洁高效的程序启动器 & 效率工具 |

### 2. 新增特性板块

#### 效率工具（全新）
- 🎬 **场景工作流** - 一键执行多个操作，支持 8 种动作类型
- 📋 **剪贴板历史** - 自动记录剪贴板内容，支持置顶
- 🔍 **快捷搜索** - Spotlight 风格的全局搜索
- 📝 **快捷便签** - 随时记录灵感和待办事项
- 🧮 **计算器增强** - 在搜索框中直接计算表达式
- 🎨 **个性化** - 自定义主题色、背景图片、窗口透明度

#### 维护工具（全新）
- 🧹 **清理无效项** - 一键检测失效程序，批量删除无效图标，支持网络路径识别
- 🔄 **更新检测** - 智能混合检测方案（Windows 注册表版本号 + 文件元数据），可信度分级显示
  - 🔵 高可信度：注册表版本号变化
  - 🟡 中等可信度：文件大小和修改时间同时变化
  - ⚪ 低可信度：仅修改时间变化
- ♻️ **向后兼容** - 为已有程序提供基准数据初始化功能

### 3. 新增场景功能文档（全新章节）

新增完整的场景功能说明，包括：

| 动作类型 | 说明 |
|----------|------|
| 🚀 启动程序 | 从已添加的应用中选择并启动 |
| 🛡️ 管理员启动 | 以管理员权限启动程序 |
| 🌐 打开网页 | 在浏览器中打开指定网址 |
| 📂 打开文件夹 | 在资源管理器中打开指定目录 |
| 📄 打开文件 | 使用默认程序打开指定文件 |
| ❌ 关闭程序 | 结束指定程序的所有进程 |
| ⏱️ 延迟等待 | 等待指定秒数后继续 |
| 🔔 发送通知 | 显示 Windows 系统通知 |

### 4. 使用指南更新

#### 旧版本
仅包含基础操作（5 步）

#### 新版本
- **基础操作** - 保留原有 5 步
- **场景工作流** - 新增 5 步操作指南
- **应用快捷动作** - 新增 4 个快捷动作说明
- **效率工具开关** - 新增功能开关和快捷键说明

### 5. 设置选项扩展

| 项目 | 旧版本 | 新版本 |
|------|--------|--------|
| 卡片大小 | ✓ | ✓ |
| 主题 | ✓ | ✓ |
| 排序方式 | ✓ | ✓ |
| 主题色 | - | ✓ (新增) |
| 背景图片 | - | ✓ (新增) |
| 窗口透明度 | - | ✓ (新增) |

### 6. 项目结构更新

#### 新增组件
```
src/components/
├── SceneEditor.vue      # 场景编辑器 (新增)
├── ClipboardHistory.vue # 剪贴板历史 (新增)
├── SpotlightSearch.vue  # 快捷搜索 (新增)
├── QuickNotes.vue       # 快捷便签 (新增)
└── MaintenancePanel.vue # 维护面板 (新增)
```

#### 新增状态管理
```
src/stores/
├── scenesStore.ts        # 场景状态 (新增)
├── clipboardStore.ts     # 剪贴板状态 (新增)
├── actionsStore.ts       # 动作状态 (新增)
└── maintenanceStore.ts   # 维护状态 (新增)
```

#### 新增后端工具
```
src-tauri/src/utils/
├── app_validator.rs   # 程序有效性验证 (新增)
└── update_checker.rs  # 更新检测算法 (新增)
```

#### 新增 Tauri 命令
- `validate_all_apps()` - 批量验证程序有效性
- `init_update_baseline()` - 初始化单个程序基准数据
- `init_all_baselines()` - 批量初始化基准数据（向后兼容）
- `check_app_update()` - 检测单个程序更新
- `check_all_updates()` - 批量检测程序更新
- `batch_delete_apps()` - 批量删除程序

### 7. 路线图更新

#### 已完成（新增）
- [x] 场景工作流
- [x] 剪贴板历史
- [x] 快捷搜索
- [x] 快捷便签
- [x] 自定义主题色
- [x] 背景图片
- [x] 清理无效项
- [x] 更新检测

### 8. 常见问题新增

新增问题：
> **场景数据存储在哪里？**
> 场景数据存储在浏览器的 localStorage 中，键名为 `app_scenes_config`。

### 9. 致谢新增

新增：
- [SortableJS](https://sortablejs.github.io/Sortable/) - 拖拽排序库

---

## 文件统计

| 指标 | 旧版本 | 新版本 | 变化 |
|------|--------|--------|------|
| 总行数 | 175 | 265 | +90 |
| 章节数 | 10 | 12 | +2 |
| 功能特性 | 6 | 12 | +6 |
| 路线图已完成项 | 5 | 11 | +6 |
| 常见问题数 | 3 | 4 | +1 |

---

## 总结

本次 README 更新反映了 Program Manager 从单一启动器向综合效率工具的演进：

1. **功能扩展** - 新增场景工作流、剪贴板历史、快捷搜索、维护工具等 8 大功能模块
2. **文档完善** - 详细说明了新功能的使用方法和配置选项
3. **项目结构** - 更新了组件、状态管理和后端工具的目录结构说明
4. **用户体验** - 提供更多个性化选项（主题色、背景、透明度）
5. **维护功能** - 提供程序有效性检测和智能更新检测，解决了程序管理的痛点
